{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nlet token = localStorage.getItem(\"token\");\nlet userData = localStorage.getItem(\"userData\");\nlet userId = localStorage.getItem(\"userId\");\nlet expirationTime = localStorage.getItem(\"expirationTime\");\nconst authInitial = {\n  token: token,\n  userData: JSON.parse(userData),\n  userId: userId,\n  expirationTime: expirationTime\n};\nexport const AuthSlice = createSlice({\n  name: \"auth\",\n  initialState: authInitial,\n  reducers: {\n    login(state, action) {\n      state.token = action.payload.token;\n      state.userData = action.payload.userData;\n      state.userId = action.payload.userId;\n      state.expirationTime = action.payload.expirationTime;\n      localStorage.setItem(\"token\", action.payload.token);\n      localStorage.setItem(\"userData\", JSON.stringify(action.payload.userData));\n      localStorage.setItem(\"userId\", action.payload.userId);\n      localStorage.setItem(\"expirationTime\", action.payload.expirationTime);\n      localStorage.setItem(\"messages\", JSON.stringify(action.payload.messages));\n    },\n    logout(state) {\n      state.expirationTime = null;\n      state.token = null;\n      state.userId = null;\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"expirationTime\");\n    }\n  }\n});\nconst storyInitial = {\n  stories: []\n};\nexport const StoriesSlice = createSlice({\n  name: 'stories',\n  initialState: storyInitial,\n  reducers: {\n    getStories(state, action) {\n      state.stories = action.payload.stories;\n    }\n  }\n});\nexport const StoryAction = StoriesSlice.actions;\nexport const AuthAction = AuthSlice.actions;","map":{"version":3,"names":["createSlice","token","localStorage","getItem","userData","userId","expirationTime","authInitial","JSON","parse","AuthSlice","name","initialState","reducers","login","state","action","payload","setItem","stringify","messages","logout","removeItem","storyInitial","stories","StoriesSlice","getStories","StoryAction","actions","AuthAction"],"sources":["/Users/nazishasghar/Projects/FaceBook/frontend/src/redux/reducer.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nlet token = localStorage.getItem(\"token\");\nlet userData: any = localStorage.getItem(\"userData\");\nlet userId = localStorage.getItem(\"userId\");\nlet expirationTime = localStorage.getItem(\"expirationTime\");\nconst authInitial = {\n  token: token,\n  userData: JSON.parse(userData),\n  userId: userId,\n  expirationTime: expirationTime,\n};\n\nexport const AuthSlice = createSlice({\n  name: \"auth\",\n  initialState: authInitial,\n  reducers: {\n    login(state, action) {\n        \n      state.token = action.payload.token;\n      state.userData = action.payload.userData;\n      state.userId = action.payload.userId;\n      state.expirationTime = action.payload.expirationTime;\n      localStorage.setItem(\"token\", action.payload.token);\n      localStorage.setItem(\"userData\", JSON.stringify(action.payload.userData));\n      localStorage.setItem(\"userId\", action.payload.userId);\n      localStorage.setItem(\"expirationTime\", action.payload.expirationTime);\n      localStorage.setItem(\"messages\", JSON.stringify(action.payload.messages));\n    },\n    logout(state) {\n      state.expirationTime = null;\n      state.token = null;\n      state.userId = null;\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"expirationTime\");\n    },\n  },\n});\n\nconst storyInitial = {\n  stories:[]\n}\nexport const StoriesSlice = createSlice({name:'stories',initialState:storyInitial,reducers:{\n    getStories(state,action) {\n      state.stories = action.payload.stories\n    }\n}})\nexport const StoryAction = StoriesSlice.actions\nexport const AuthAction = AuthSlice.actions;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AACzC,IAAIC,QAAa,GAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;AACpD,IAAIE,MAAM,GAAGH,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;AAC3C,IAAIG,cAAc,GAAGJ,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC;AAC3D,MAAMI,WAAW,GAAG;EAClBN,KAAK,EAAEA,KAAK;EACZG,QAAQ,EAAEI,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC;EAC9BC,MAAM,EAAEA,MAAM;EACdC,cAAc,EAAEA;AAClB,CAAC;AAED,OAAO,MAAMI,SAAS,GAAGV,WAAW,CAAC;EACnCW,IAAI,EAAE,MAAM;EACZC,YAAY,EAAEL,WAAW;EACzBM,QAAQ,EAAE;IACRC,KAAK,CAACC,KAAK,EAAEC,MAAM,EAAE;MAEnBD,KAAK,CAACd,KAAK,GAAGe,MAAM,CAACC,OAAO,CAAChB,KAAK;MAClCc,KAAK,CAACX,QAAQ,GAAGY,MAAM,CAACC,OAAO,CAACb,QAAQ;MACxCW,KAAK,CAACV,MAAM,GAAGW,MAAM,CAACC,OAAO,CAACZ,MAAM;MACpCU,KAAK,CAACT,cAAc,GAAGU,MAAM,CAACC,OAAO,CAACX,cAAc;MACpDJ,YAAY,CAACgB,OAAO,CAAC,OAAO,EAAEF,MAAM,CAACC,OAAO,CAAChB,KAAK,CAAC;MACnDC,YAAY,CAACgB,OAAO,CAAC,UAAU,EAAEV,IAAI,CAACW,SAAS,CAACH,MAAM,CAACC,OAAO,CAACb,QAAQ,CAAC,CAAC;MACzEF,YAAY,CAACgB,OAAO,CAAC,QAAQ,EAAEF,MAAM,CAACC,OAAO,CAACZ,MAAM,CAAC;MACrDH,YAAY,CAACgB,OAAO,CAAC,gBAAgB,EAAEF,MAAM,CAACC,OAAO,CAACX,cAAc,CAAC;MACrEJ,YAAY,CAACgB,OAAO,CAAC,UAAU,EAAEV,IAAI,CAACW,SAAS,CAACH,MAAM,CAACC,OAAO,CAACG,QAAQ,CAAC,CAAC;IAC3E,CAAC;IACDC,MAAM,CAACN,KAAK,EAAE;MACZA,KAAK,CAACT,cAAc,GAAG,IAAI;MAC3BS,KAAK,CAACd,KAAK,GAAG,IAAI;MAClBc,KAAK,CAACV,MAAM,GAAG,IAAI;MACnBH,YAAY,CAACoB,UAAU,CAAC,OAAO,CAAC;MAChCpB,YAAY,CAACoB,UAAU,CAAC,QAAQ,CAAC;MACjCpB,YAAY,CAACoB,UAAU,CAAC,gBAAgB,CAAC;IAC3C;EACF;AACF,CAAC,CAAC;AAEF,MAAMC,YAAY,GAAG;EACnBC,OAAO,EAAC;AACV,CAAC;AACD,OAAO,MAAMC,YAAY,GAAGzB,WAAW,CAAC;EAACW,IAAI,EAAC,SAAS;EAACC,YAAY,EAACW,YAAY;EAACV,QAAQ,EAAC;IACvFa,UAAU,CAACX,KAAK,EAACC,MAAM,EAAE;MACvBD,KAAK,CAACS,OAAO,GAAGR,MAAM,CAACC,OAAO,CAACO,OAAO;IACxC;EACJ;AAAC,CAAC,CAAC;AACH,OAAO,MAAMG,WAAW,GAAGF,YAAY,CAACG,OAAO;AAC/C,OAAO,MAAMC,UAAU,GAAGnB,SAAS,CAACkB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}