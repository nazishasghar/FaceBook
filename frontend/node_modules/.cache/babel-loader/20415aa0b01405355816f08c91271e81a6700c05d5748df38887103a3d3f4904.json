{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"react\")) : \"function\" == typeof define && define.amd ? define(\"Stories\", [\"React\"], t) : \"object\" == typeof exports ? exports.Stories = t(require(\"react\")) : e.Stories = t(e.React);\n}(this, function (e) {\n  return function (e) {\n    var t = {};\n    function r(n) {\n      if (t[n]) return t[n].exports;\n      var o = t[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(o.exports, o, o.exports, r), o.l = !0, o.exports;\n    }\n    return r.m = e, r.c = t, r.d = function (e, t, n) {\n      r.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: n\n      });\n    }, r.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, r.t = function (e, t) {\n      if (1 & t && (e = r(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var n = Object.create(null);\n      if (r.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var o in e) r.d(n, o, function (t) {\n        return e[t];\n      }.bind(null, o));\n      return n;\n    }, r.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return r.d(t, \"a\", t), t;\n    }, r.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, r.p = \"\", r(r.s = 7);\n  }([function (t, r) {\n    t.exports = e;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.initialContext = void 0;\n    var o = n(r(0));\n    t.initialContext = {\n      defaultInterval: 4e3,\n      width: 360,\n      height: 640\n    };\n    var i = o.default.createContext(t.initialContext);\n    t.default = i;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.initialContext = void 0;\n    var o = n(r(0));\n    t.initialContext = {\n      stories: []\n    };\n    var i = o.default.createContext(t.initialContext);\n    t.default = i;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(r(0));\n    t.default = o.default.createContext({\n      currentId: 0,\n      videoDuration: 0,\n      bufferAction: !1,\n      pause: !1,\n      next: function () {}\n    });\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e) {\n      return (n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n    var o = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = o(r(0)),\n      a = o(r(17));\n    t.default = function (e) {\n      var t = e.story,\n        r = e.globalHeader,\n        o = e.children;\n      return i.default.createElement(i.default.Fragment, null, o, t.header && i.default.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          left: 12,\n          top: 20,\n          zIndex: 19\n        }\n      }, \"object\" === n(t) ? r ? r(t.header) : i.default.createElement(a.default, {\n        heading: t.header.heading,\n        subheading: t.header.subheading,\n        profileImage: t.header.profileImage\n      }) : null));\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var r = [],\n          n = !0,\n          o = !1,\n          i = void 0;\n        try {\n          for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n        return r;\n      }(e, t) || function (e, t) {\n        if (!e) return;\n        if (\"string\" == typeof e) return o(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        \"Object\" === r && e.constructor && (r = e.constructor.name);\n        if (\"Map\" === r || \"Set\" === r) return Array.from(e);\n        if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return o(e, t);\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n    function o(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n      for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n      return n;\n    }\n    var i = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n        void 0 === n && (n = r), Object.defineProperty(e, n, {\n          enumerable: !0,\n          get: function () {\n            return t[r];\n          }\n        });\n      } : function (e, t, r, n) {\n        void 0 === n && (n = r), e[n] = t[r];\n      }),\n      a = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n        Object.defineProperty(e, \"default\", {\n          enumerable: !0,\n          value: t\n        });\n      } : function (e, t) {\n        e.default = t;\n      }),\n      u = this && this.__importStar || function (e) {\n        if (e && e.__esModule) return e;\n        var t = {};\n        if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && i(t, e, r);\n        return a(t, e), t;\n      },\n      l = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          default: e\n        };\n      };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var c = u(r(0)),\n      f = l(r(18));\n    t.default = function (e) {\n      var t = e.story,\n        r = e.action,\n        o = e.customCollapsed,\n        i = e.children,\n        a = n(c.useState(!1), 2),\n        u = a[0],\n        l = a[1],\n        s = f.default;\n      return c.default.createElement(c.default.Fragment, null, i, t.seeMore && c.default.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          margin: \"auto\",\n          bottom: u ? \"unset\" : 0,\n          zIndex: 9999,\n          width: \"100%\",\n          height: u ? \"100%\" : \"auto\"\n        }\n      }, c.default.createElement(s, {\n        action: r,\n        toggleMore: function (e) {\n          r(e ? \"pause\" : \"play\"), l(e);\n        },\n        showContent: u,\n        seeMoreContent: t.seeMore,\n        customCollapsed: o || t.seeMoreCollapsed\n      })));\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(r(0)),\n      i = n(r(16));\n    t.default = function () {\n      return o.default.createElement(i.default, null);\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e) {\n      return (n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n    function o(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var r = [],\n          n = !0,\n          o = !1,\n          i = void 0;\n        try {\n          for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n        return r;\n      }(e, t) || function (e, t) {\n        if (!e) return;\n        if (\"string\" == typeof e) return i(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        \"Object\" === r && e.constructor && (r = e.constructor.name);\n        if (\"Map\" === r || \"Set\" === r) return Array.from(e);\n        if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return i(e, t);\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n    function i(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n      for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n      return n;\n    }\n    var a = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n        void 0 === n && (n = r), Object.defineProperty(e, n, {\n          enumerable: !0,\n          get: function () {\n            return t[r];\n          }\n        });\n      } : function (e, t, r, n) {\n        void 0 === n && (n = r), e[n] = t[r];\n      }),\n      u = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n        Object.defineProperty(e, \"default\", {\n          enumerable: !0,\n          value: t\n        });\n      } : function (e, t) {\n        e.default = t;\n      }),\n      l = this && this.__importStar || function (e) {\n        if (e && e.__esModule) return e;\n        var t = {};\n        if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && a(t, e, r);\n        return u(t, e), t;\n      },\n      c = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          default: e\n        };\n      };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.WithSeeMore = t.WithHeader = void 0;\n    var f = l(r(0)),\n      s = c(r(8)),\n      d = c(r(1)),\n      y = c(r(2)),\n      p = r(13),\n      h = r(14),\n      m = c(r(4)),\n      v = c(r(5)),\n      b = function (e) {\n        var t = e.renderers ? e.renderers.concat(h.renderers) : h.renderers,\n          r = {\n            width: e.width,\n            height: e.height,\n            loader: e.loader,\n            header: e.header,\n            storyContainerStyles: e.storyContainerStyles,\n            storyStyles: e.storyStyles,\n            loop: e.loop,\n            defaultInterval: e.defaultInterval,\n            isPaused: e.isPaused,\n            currentIndex: e.currentIndex,\n            onStoryStart: e.onStoryStart,\n            onStoryEnd: e.onStoryEnd,\n            onAllStoriesEnd: e.onAllStoriesEnd,\n            keyboardNavigation: e.keyboardNavigation,\n            preventDefault: e.preventDefault\n          },\n          n = o(f.useState({\n            stories: g(e.stories, t)\n          }), 2),\n          i = n[0],\n          a = n[1];\n        return f.useEffect(function () {\n          a({\n            stories: g(e.stories, t)\n          });\n        }, [e.stories, e.renderers]), f.default.createElement(d.default.Provider, {\n          value: r\n        }, f.default.createElement(y.default.Provider, {\n          value: i\n        }, f.default.createElement(s.default, null)));\n      },\n      g = function (e, t) {\n        return e.map(function (e) {\n          var r = {};\n          \"string\" == typeof e ? (r.url = e, r.type = \"image\") : \"object\" === n(e) && (r = Object.assign(r, e));\n          var o = p.getRenderer(r, t);\n          return r.originalContent = r.content, r.content = o, r;\n        });\n      };\n    b.defaultProps = {\n      width: 360,\n      height: 640,\n      defaultInterval: 4e3\n    }, t.WithHeader = m.default, t.WithSeeMore = v.default, t.default = b;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var r = [],\n          n = !0,\n          o = !1,\n          i = void 0;\n        try {\n          for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n        return r;\n      }(e, t) || function (e, t) {\n        if (!e) return;\n        if (\"string\" == typeof e) return o(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        \"Object\" === r && e.constructor && (r = e.constructor.name);\n        if (\"Map\" === r || \"Set\" === r) return Array.from(e);\n        if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return o(e, t);\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n    function o(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n      for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n      return n;\n    }\n    var i = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n        void 0 === n && (n = r), Object.defineProperty(e, n, {\n          enumerable: !0,\n          get: function () {\n            return t[r];\n          }\n        });\n      } : function (e, t, r, n) {\n        void 0 === n && (n = r), e[n] = t[r];\n      }),\n      a = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n        Object.defineProperty(e, \"default\", {\n          enumerable: !0,\n          value: t\n        });\n      } : function (e, t) {\n        e.default = t;\n      }),\n      u = this && this.__importStar || function (e) {\n        if (e && e.__esModule) return e;\n        var t = {};\n        if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && i(t, e, r);\n        return a(t, e), t;\n      },\n      l = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          default: e\n        };\n      };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var c = u(r(0)),\n      f = l(r(1)),\n      s = l(r(2)),\n      d = l(r(3)),\n      y = l(r(9)),\n      p = l(r(10));\n    t.default = function () {\n      var e = n(c.useState(0), 2),\n        t = e[0],\n        r = e[1],\n        o = n(c.useState(!0), 2),\n        i = o[0],\n        a = o[1],\n        u = n(c.useState(!0), 2),\n        l = u[0],\n        m = u[1],\n        v = n(c.useState(0), 2),\n        b = v[0],\n        g = v[1],\n        _ = c.useRef(),\n        O = c.useRef(!0),\n        j = c.useContext(f.default),\n        S = j.width,\n        w = j.height,\n        x = j.loop,\n        M = j.currentIndex,\n        E = j.isPaused,\n        P = j.keyboardNavigation,\n        A = j.preventDefault,\n        C = j.storyContainerStyles,\n        I = void 0 === C ? {} : C,\n        D = c.useContext(s.default).stories;\n      c.useEffect(function () {\n        \"number\" == typeof M && (M >= 0 && M < D.length ? R(function () {\n          return M;\n        }) : console.error(\"Index out of bounds. Current index was set to value more than the length of stories array.\", M));\n      }, [M]), c.useEffect(function () {\n        \"boolean\" == typeof E && a(E);\n      }, [E]), c.useEffect(function () {\n        if (\"undefined\" != typeof window && window.document && \"boolean\" == typeof P && P) return document.addEventListener(\"keydown\", k), function () {\n          document.removeEventListener(\"keydown\", k);\n        };\n      }, [P]), c.useEffect(function () {\n        return function () {\n          O.current = !1;\n        };\n      }, []);\n      var k = function (e) {\n          \"ArrowLeft\" === e.key ? z() : \"ArrowRight\" === e.key && B();\n        },\n        T = function (e, t) {\n          a(\"pause\" === e), m(!!t);\n        },\n        R = function (e) {\n          r(e), T(\"pause\", !0);\n        },\n        z = function () {\n          R(function (e) {\n            return e > 0 ? e - 1 : e;\n          });\n        },\n        B = function () {\n          O.current && (x ? W() : U());\n        },\n        W = function () {\n          R(function (e) {\n            return (e + 1) % D.length;\n          });\n        },\n        U = function () {\n          R(function (e) {\n            return e < D.length - 1 ? e + 1 : e;\n          });\n        },\n        H = function (e) {\n          e.preventDefault(), _.current = setTimeout(function () {\n            T(\"pause\");\n          }, 200);\n        },\n        N = function (e) {\n          return function (t) {\n            t.preventDefault(), _.current && clearTimeout(_.current), i ? T(\"play\") : \"next\" === e ? B() : z();\n          };\n        };\n      return c.default.createElement(\"div\", {\n        style: Object.assign(Object.assign(Object.assign({}, h.container), I), {\n          width: S,\n          height: w\n        })\n      }, c.default.createElement(d.default.Provider, {\n        value: {\n          bufferAction: l,\n          videoDuration: b,\n          currentId: t,\n          pause: i,\n          next: B\n        }\n      }, c.default.createElement(p.default, null)), c.default.createElement(y.default, {\n        action: T,\n        bufferAction: l,\n        playState: i,\n        story: D[t],\n        getVideoDuration: function (e) {\n          g(1e3 * e);\n        }\n      }), !A && c.default.createElement(\"div\", {\n        style: h.overlay\n      }, c.default.createElement(\"div\", {\n        style: {\n          width: \"50%\",\n          zIndex: 999\n        },\n        onTouchStart: H,\n        onTouchEnd: N(\"previous\"),\n        onMouseDown: H,\n        onMouseUp: N(\"previous\")\n      }), c.default.createElement(\"div\", {\n        style: {\n          width: \"50%\",\n          zIndex: 999\n        },\n        onTouchStart: H,\n        onTouchEnd: N(\"next\"),\n        onMouseDown: H,\n        onMouseUp: N(\"next\")\n      })));\n    };\n    var h = {\n      container: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        background: \"#111\",\n        position: \"relative\"\n      },\n      overlay: {\n        position: \"absolute\",\n        height: \"inherit\",\n        width: \"inherit\",\n        display: \"flex\"\n      }\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n        void 0 === n && (n = r), Object.defineProperty(e, n, {\n          enumerable: !0,\n          get: function () {\n            return t[r];\n          }\n        });\n      } : function (e, t, r, n) {\n        void 0 === n && (n = r), e[n] = t[r];\n      }),\n      o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n        Object.defineProperty(e, \"default\", {\n          enumerable: !0,\n          value: t\n        });\n      } : function (e, t) {\n        e.default = t;\n      }),\n      i = this && this.__importStar || function (e) {\n        if (e && e.__esModule) return e;\n        var t = {};\n        if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && n(t, e, r);\n        return o(t, e), t;\n      },\n      a = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          default: e\n        };\n      };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var u = i(r(0)),\n      l = a(r(1)),\n      c = {\n        story: {\n          display: \"flex\",\n          position: \"relative\",\n          overflow: \"hidden\",\n          alignItems: \"center\"\n        },\n        storyContent: {\n          width: \"auto\",\n          maxWidth: \"100%\",\n          maxHeight: \"100%\",\n          margin: \"auto\"\n        }\n      };\n    t.default = function (e) {\n      var t,\n        r,\n        n = u.useContext(l.default),\n        o = n.width,\n        i = n.height,\n        a = n.loader,\n        f = n.header,\n        s = n.storyStyles,\n        d = function (t, r) {\n          switch (t) {\n            case \"UPDATE_VIDEO_DURATION\":\n              return e.getVideoDuration(r.duration), {\n                ack: \"OK\"\n              };\n          }\n        };\n      return u.default.createElement(\"div\", {\n        style: Object.assign(Object.assign({}, c.story), {\n          width: o,\n          height: i\n        })\n      }, (t = e.story.content, r = {\n        width: o,\n        height: i,\n        loader: a,\n        header: f,\n        storyStyles: s\n      }, u.default.createElement(t, {\n        action: e.action,\n        isPaused: e.playState,\n        story: e.story,\n        config: r,\n        messageHandler: d\n      })));\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var r = [],\n          n = !0,\n          o = !1,\n          i = void 0;\n        try {\n          for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n        return r;\n      }(e, t) || function (e, t) {\n        if (!e) return;\n        if (\"string\" == typeof e) return o(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        \"Object\" === r && e.constructor && (r = e.constructor.name);\n        if (\"Map\" === r || \"Set\" === r) return Array.from(e);\n        if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return o(e, t);\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n    function o(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n      for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n      return n;\n    }\n    var i = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n        void 0 === n && (n = r), Object.defineProperty(e, n, {\n          enumerable: !0,\n          get: function () {\n            return t[r];\n          }\n        });\n      } : function (e, t, r, n) {\n        void 0 === n && (n = r), e[n] = t[r];\n      }),\n      a = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n        Object.defineProperty(e, \"default\", {\n          enumerable: !0,\n          value: t\n        });\n      } : function (e, t) {\n        e.default = t;\n      }),\n      u = this && this.__importStar || function (e) {\n        if (e && e.__esModule) return e;\n        var t = {};\n        if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && i(t, e, r);\n        return a(t, e), t;\n      },\n      l = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          default: e\n        };\n      };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var c = u(r(0)),\n      f = l(r(11)),\n      s = l(r(3)),\n      d = l(r(1)),\n      y = l(r(2));\n    t.default = function () {\n      var e = n(c.useState(0), 2),\n        t = e[0],\n        r = e[1],\n        o = c.useContext(s.default),\n        i = o.currentId,\n        a = o.next,\n        u = o.videoDuration,\n        l = o.pause,\n        h = c.useContext(d.default),\n        m = h.defaultInterval,\n        v = h.onStoryEnd,\n        b = h.onStoryStart,\n        g = h.onAllStoriesEnd,\n        _ = c.useContext(y.default).stories;\n      c.useEffect(function () {\n        r(0);\n      }, [i, _]), c.useEffect(function () {\n        return l || (O.current = requestAnimationFrame(S)), function () {\n          cancelAnimationFrame(O.current);\n        };\n      }, [i, l]);\n      var O = c.useRef(),\n        j = t,\n        S = function e() {\n          0 === j && w(), r(function (e) {\n            var t = E();\n            return j = e + 100 / (t / 1e3 * 60), e + 100 / (t / 1e3 * 60);\n          }), j < 100 ? O.current = requestAnimationFrame(e) : (x(), i === _.length - 1 && M(), cancelAnimationFrame(O.current), a());\n        },\n        w = function () {\n          b && b(i, _[i]);\n        },\n        x = function () {\n          v && v(i, _[i]);\n        },\n        M = function () {\n          g && g(i, _);\n        },\n        E = function () {\n          return \"video\" === _[i].type ? u : \"number\" == typeof _[i].duration ? _[i].duration : m;\n        };\n      return c.default.createElement(\"div\", {\n        style: p.progressArr\n      }, _.map(function (e, r) {\n        return c.default.createElement(f.default, {\n          key: r,\n          count: t,\n          width: 1 / _.length,\n          active: r === i ? 1 : r < i ? 2 : 0\n        });\n      }));\n    };\n    var p = {\n      progressArr: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        maxWidth: \"100%\",\n        flexWrap: \"row\",\n        position: \"absolute\",\n        width: \"98%\",\n        padding: 5,\n        paddingTop: 7,\n        alignSelf: \"center\",\n        zIndex: 1001,\n        filter: \"drop-shadow(0 1px 8px #222)\"\n      }\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n        void 0 === n && (n = r), Object.defineProperty(e, n, {\n          enumerable: !0,\n          get: function () {\n            return t[r];\n          }\n        });\n      } : function (e, t, r, n) {\n        void 0 === n && (n = r), e[n] = t[r];\n      }),\n      o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n        Object.defineProperty(e, \"default\", {\n          enumerable: !0,\n          value: t\n        });\n      } : function (e, t) {\n        e.default = t;\n      }),\n      i = this && this.__importStar || function (e) {\n        if (e && e.__esModule) return e;\n        var t = {};\n        if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && n(t, e, r);\n        return o(t, e), t;\n      },\n      a = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          default: e\n        };\n      };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var u = i(r(0)),\n      l = a(r(12)),\n      c = a(r(3));\n    t.default = function (e) {\n      var t = u.useContext(c.default),\n        r = t.bufferAction,\n        n = t.pause,\n        o = e.width,\n        i = e.active;\n      return u.default.createElement(l.default, {\n        width: o,\n        pause: n,\n        bufferAction: r\n      }, u.default.createElement(\"div\", {\n        style: Object.assign(Object.assign({}, function (t) {\n          switch (t.active) {\n            case 2:\n              return {\n                width: \"100%\"\n              };\n            case 1:\n              return {\n                transform: \"scaleX(\".concat(e.count / 100, \")\")\n              };\n            case 0:\n            default:\n              return {\n                width: 0\n              };\n          }\n        }({\n          active: i\n        })), f.inner)\n      }));\n    };\n    var f = {\n      inner: {\n        background: \"#fff\",\n        height: \"100%\",\n        maxWidth: \"100%\",\n        borderRadius: 2,\n        transformOrigin: \"center left\",\n        WebkitBackfaceVisibility: \"hidden\",\n        MozBackfaceVisibility: \"hidden\",\n        msBackfaceVisibility: \"hidden\",\n        backfaceVisibility: \"hidden\",\n        WebkitPerspective: 1e3,\n        MozPerspective: 1e3,\n        msPerspective: 1e3,\n        perspective: 1e3\n      }\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(r(0)),\n      i = function (e) {\n        var t = e.width,\n          r = e.pause,\n          n = e.bufferAction;\n        return {\n          width: \"\".concat(100 * t, \"%\"),\n          opacity: r && !n ? 0 : 1\n        };\n      },\n      a = {\n        progress: {\n          height: 2,\n          maxWidth: \"100%\",\n          background: \"#555\",\n          margin: 2,\n          borderRadius: 2,\n          transition: \"opacity 400ms ease-in-out\"\n        }\n      };\n    t.default = function (e) {\n      return o.default.createElement(\"div\", {\n        style: Object.assign(Object.assign({}, a.progress), i(e))\n      }, e.children);\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.getRenderer = void 0, t.getRenderer = function (e, t) {\n      var r = t.map(function (t) {\n        return Object.assign(Object.assign({}, t), {\n          testerResult: t.tester(e)\n        });\n      }).filter(function (e) {\n        return e.testerResult.condition;\n      });\n      return r.sort(function (e, t) {\n        return t.testerResult.priority - e.testerResult.priority;\n      }), r[0].renderer;\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.renderers = void 0;\n    var o = n(r(15)),\n      i = n(r(19)),\n      a = n(r(20)),\n      u = n(r(21));\n    t.renderers = [o.default, i.default, u.default, a.default];\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var r = [],\n          n = !0,\n          o = !1,\n          i = void 0;\n        try {\n          for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n        return r;\n      }(e, t) || function (e, t) {\n        if (!e) return;\n        if (\"string\" == typeof e) return o(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        \"Object\" === r && e.constructor && (r = e.constructor.name);\n        if (\"Map\" === r || \"Set\" === r) return Array.from(e);\n        if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return o(e, t);\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n    function o(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n      for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n      return n;\n    }\n    var i = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n        void 0 === n && (n = r), Object.defineProperty(e, n, {\n          enumerable: !0,\n          get: function () {\n            return t[r];\n          }\n        });\n      } : function (e, t, r, n) {\n        void 0 === n && (n = r), e[n] = t[r];\n      }),\n      a = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n        Object.defineProperty(e, \"default\", {\n          enumerable: !0,\n          value: t\n        });\n      } : function (e, t) {\n        e.default = t;\n      }),\n      u = this && this.__importStar || function (e) {\n        if (e && e.__esModule) return e;\n        var t = {};\n        if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && i(t, e, r);\n        return a(t, e), t;\n      },\n      l = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          default: e\n        };\n      };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.tester = t.renderer = void 0;\n    var c = u(r(0)),\n      f = l(r(6)),\n      s = l(r(4)),\n      d = l(r(5));\n    t.renderer = function (e) {\n      var t = e.story,\n        r = e.action,\n        o = (e.isPaused, e.config),\n        i = n(c.useState(!1), 2),\n        a = i[0],\n        u = i[1],\n        l = o.width,\n        p = o.height,\n        h = o.loader,\n        m = o.storyStyles,\n        v = Object.assign(Object.assign({}, y.storyContent), m || {});\n      return c.createElement(s.default, {\n        story: t,\n        globalHeader: o.header\n      }, c.createElement(d.default, {\n        story: t,\n        action: r\n      }, c.createElement(\"div\", null, c.createElement(\"img\", {\n        style: v,\n        src: t.url,\n        onLoad: function () {\n          u(!0), r(\"play\");\n        }\n      }), !a && c.createElement(\"div\", {\n        style: {\n          width: l,\n          height: p,\n          position: \"absolute\",\n          left: 0,\n          top: 0,\n          background: \"rgba(0, 0, 0, 0.9)\",\n          zIndex: 9,\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          color: \"#ccc\"\n        }\n      }, h || c.createElement(f.default, null)))));\n    };\n    var y = {\n      story: {\n        display: \"flex\",\n        position: \"relative\",\n        overflow: \"hidden\"\n      },\n      storyContent: {\n        width: \"auto\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n      }\n    };\n    t.tester = function (e) {\n      return {\n        condition: !(e.content || e.type && \"image\" !== e.type),\n        priority: 2\n      };\n    }, t.default = {\n      renderer: t.renderer,\n      tester: t.tester\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t);\n    var n = r(0),\n      o = r.n(n);\n    function i() {\n      return (i = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var r = arguments[t];\n          for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);\n        }\n        return e;\n      }).apply(this, arguments);\n    }\n    function a(e, t) {\n      if (null == e) return {};\n      var r,\n        n,\n        o = function (e, t) {\n          if (null == e) return {};\n          var r,\n            n,\n            o = {},\n            i = Object.keys(e);\n          for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) >= 0 || (o[r] = e[r]);\n          return o;\n        }(e, t);\n      if (Object.getOwnPropertySymbols) {\n        var i = Object.getOwnPropertySymbols(e);\n        for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (o[r] = e[r]);\n      }\n      return o;\n    }\n    t.default = function (e) {\n      e.styles;\n      var t = a(e, [\"styles\"]);\n      return o.a.createElement(\"svg\", i({\n        width: \"44\",\n        height: \"44\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        stroke: \"#fff\"\n      }, t), o.a.createElement(\"g\", {\n        fill: \"none\",\n        fillRule: \"evenodd\",\n        strokeWidth: \"2\"\n      }, o.a.createElement(\"circle\", {\n        cx: \"22\",\n        cy: \"22\",\n        r: \"1\"\n      }, o.a.createElement(\"animate\", {\n        attributeName: \"r\",\n        begin: \"0s\",\n        dur: \"1.8s\",\n        values: \"1; 20\",\n        calcMode: \"spline\",\n        keyTimes: \"0; 1\",\n        keySplines: \"0.165, 0.84, 0.44, 1\",\n        repeatCount: \"indefinite\"\n      }), o.a.createElement(\"animate\", {\n        attributeName: \"stroke-opacity\",\n        begin: \"0s\",\n        dur: \"1.8s\",\n        values: \"1; 0\",\n        calcMode: \"spline\",\n        keyTimes: \"0; 1\",\n        keySplines: \"0.3, 0.61, 0.355, 1\",\n        repeatCount: \"indefinite\"\n      })), o.a.createElement(\"circle\", {\n        cx: \"22\",\n        cy: \"22\",\n        r: \"1\"\n      }, o.a.createElement(\"animate\", {\n        attributeName: \"r\",\n        begin: \"-0.9s\",\n        dur: \"1.8s\",\n        values: \"1; 20\",\n        calcMode: \"spline\",\n        keyTimes: \"0; 1\",\n        keySplines: \"0.165, 0.84, 0.44, 1\",\n        repeatCount: \"indefinite\"\n      }), o.a.createElement(\"animate\", {\n        attributeName: \"stroke-opacity\",\n        begin: \"-0.9s\",\n        dur: \"1.8s\",\n        values: \"1; 0\",\n        calcMode: \"spline\",\n        keyTimes: \"0; 1\",\n        keySplines: \"0.3, 0.61, 0.355, 1\",\n        repeatCount: \"indefinite\"\n      }))));\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(r(0)),\n      i = {\n        main: {\n          display: \"flex\",\n          alignItems: \"center\"\n        },\n        img: {\n          width: 40,\n          height: 40,\n          borderRadius: 40,\n          marginRight: 10,\n          filter: \"drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))\",\n          border: \"2px solid rgba(255, 255, 255, 0.8)\"\n        },\n        text: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          filter: \"drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))\"\n        },\n        heading: {\n          fontSize: \"1rem\",\n          color: \"rgba(255, 255, 255, 0.9)\",\n          margin: 0,\n          marginBottom: 2\n        },\n        subheading: {\n          fontSize: \"0.6rem\",\n          color: \"rgba(255, 255, 255, 0.8)\",\n          margin: 0\n        }\n      };\n    t.default = function (e) {\n      var t = e.profileImage,\n        r = e.heading,\n        n = e.subheading;\n      return o.default.createElement(\"div\", {\n        style: i.main\n      }, t && o.default.createElement(\"img\", {\n        style: i.img,\n        src: t\n      }), o.default.createElement(\"span\", {\n        style: i.text\n      }, o.default.createElement(\"p\", {\n        style: i.heading\n      }, r), o.default.createElement(\"p\", {\n        style: i.subheading\n      }, n)));\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n        void 0 === n && (n = r), Object.defineProperty(e, n, {\n          enumerable: !0,\n          get: function () {\n            return t[r];\n          }\n        });\n      } : function (e, t, r, n) {\n        void 0 === n && (n = r), e[n] = t[r];\n      }),\n      o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n        Object.defineProperty(e, \"default\", {\n          enumerable: !0,\n          value: t\n        });\n      } : function (e, t) {\n        e.default = t;\n      }),\n      i = this && this.__importStar || function (e) {\n        if (e && e.__esModule) return e;\n        var t = {};\n        if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && n(t, e, r);\n        return o(t, e), t;\n      },\n      a = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          default: e\n        };\n      };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var u = i(r(0)),\n      l = a(r(1));\n    t.default = function (e) {\n      var t = e.seeMoreContent,\n        r = e.customCollapsed,\n        n = u.useContext(l.default).keyboardNavigation;\n      u.useEffect(function () {\n        if (\"undefined\" != typeof window && window.document && \"boolean\" == typeof n && n) return document.addEventListener(\"keydown\", o), function () {\n          document.removeEventListener(\"keydown\", o);\n        };\n      }, [n]);\n      var o = function (t) {\n        \"ArrowUp\" === t.key ? (t.preventDefault(), e.toggleMore(!0)) : \"ArrowDown\" !== t.key && \"Escape\" !== t.key || (t.preventDefault(), e.toggleMore(!1));\n      };\n      return e.showContent ? u.default.createElement(\"div\", {\n        style: c.seeMoreExpanded\n      }, u.default.createElement(t, {\n        close: function () {\n          return e.toggleMore(!1);\n        }\n      })) : r ? u.default.createElement(r, {\n        action: e.action,\n        toggleMore: e.toggleMore\n      }) : u.default.createElement(\"div\", {\n        style: c.seeMore,\n        onClick: function (t) {\n          t.preventDefault(), t.stopPropagation(), e.toggleMore(!0);\n        }\n      }, u.default.createElement(\"span\", {\n        style: c.seeMoreIcon\n      }, \"⌃\"), u.default.createElement(\"span\", {\n        style: c.seeMoreText\n      }, \"See more\"));\n    };\n    var c = {\n      seeMore: {\n        height: \"10vh\",\n        background: \"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        bottom: 0\n      },\n      seeMoreExpanded: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        zIndex: 99999\n      },\n      seeMoreText: {\n        color: \"white\",\n        textAlign: \"center\",\n        letterSpacing: \"0.1em\",\n        marginBottom: \"2.2vh\",\n        textTransform: \"capitalize\",\n        opacity: \"1\",\n        fontSize: \"0.8em\",\n        transition: \"opacity 300ms ease-in-out\"\n      },\n      seeMoreIcon: {\n        color: \"white\",\n        textAlign: \"center\",\n        letterSpacing: \"0.2em\",\n        marginBottom: \"0.4vh\",\n        opacity: \"1\",\n        filter: \"drop-shadow(0 0 5px black)\",\n        textTransform: \"capitalize\",\n        transition: \"opacity 300ms ease-in-out\"\n      },\n      seeMoreClose: {\n        position: \"absolute\",\n        filter: \"drop-shadow(0 3px 2px #ccc)\",\n        right: \"0.5rem\",\n        top: \"0.5rem\",\n        fontSize: \"1.5rem\",\n        opacity: \"0.7\",\n        padding: \"1rem\"\n      }\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var r = [],\n          n = !0,\n          o = !1,\n          i = void 0;\n        try {\n          for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n        return r;\n      }(e, t) || function (e, t) {\n        if (!e) return;\n        if (\"string\" == typeof e) return o(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        \"Object\" === r && e.constructor && (r = e.constructor.name);\n        if (\"Map\" === r || \"Set\" === r) return Array.from(e);\n        if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return o(e, t);\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n    function o(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n      for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n      return n;\n    }\n    var i = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n        void 0 === n && (n = r), Object.defineProperty(e, n, {\n          enumerable: !0,\n          get: function () {\n            return t[r];\n          }\n        });\n      } : function (e, t, r, n) {\n        void 0 === n && (n = r), e[n] = t[r];\n      }),\n      a = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n        Object.defineProperty(e, \"default\", {\n          enumerable: !0,\n          value: t\n        });\n      } : function (e, t) {\n        e.default = t;\n      }),\n      u = this && this.__importStar || function (e) {\n        if (e && e.__esModule) return e;\n        var t = {};\n        if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && i(t, e, r);\n        return a(t, e), t;\n      },\n      l = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          default: e\n        };\n      };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.tester = t.renderer = void 0;\n    var c = u(r(0)),\n      f = l(r(6)),\n      s = l(r(4)),\n      d = l(r(5));\n    t.renderer = function (e) {\n      var t = e.story,\n        r = e.action,\n        o = e.isPaused,\n        i = e.config,\n        a = e.messageHandler,\n        u = n(c.useState(!1), 2),\n        l = u[0],\n        p = u[1],\n        h = n(c.useState(!1), 2),\n        m = h[0],\n        v = h[1],\n        b = i.width,\n        g = i.height,\n        _ = i.loader,\n        O = i.storyStyles,\n        j = Object.assign(Object.assign({}, y.storyContent), O || {}),\n        S = c.useRef(null);\n      c.useEffect(function () {\n        S.current && (o ? S.current.pause() : S.current.play().catch(function () {}));\n      }, [o]);\n      return c.createElement(s.default, {\n        story: t,\n        globalHeader: i.header\n      }, c.createElement(d.default, {\n        story: t,\n        action: r\n      }, c.createElement(\"div\", {\n        style: y.videoContainer\n      }, c.createElement(\"video\", {\n        ref: S,\n        style: j,\n        src: t.url,\n        controls: !1,\n        onLoadedData: function () {\n          a(\"UPDATE_VIDEO_DURATION\", {\n            duration: S.current.duration\n          }), p(!0), S.current.play().then(function () {\n            r(\"play\");\n          }).catch(function () {\n            v(!0), S.current.play().finally(function () {\n              r(\"play\");\n            });\n          });\n        },\n        playsInline: !0,\n        onWaiting: function () {\n          r(\"pause\", !0);\n        },\n        onPlaying: function () {\n          r(\"play\", !0);\n        },\n        muted: m,\n        autoPlay: !0,\n        \"webkit-playsinline\": \"true\"\n      }), !l && c.createElement(\"div\", {\n        style: {\n          width: b,\n          height: g,\n          position: \"absolute\",\n          left: 0,\n          top: 0,\n          background: \"rgba(0, 0, 0, 0.9)\",\n          zIndex: 9,\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          color: \"#ccc\"\n        }\n      }, _ || c.createElement(f.default, null)))));\n    };\n    var y = {\n      storyContent: {\n        width: \"auto\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n      },\n      videoContainer: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      }\n    };\n    t.tester = function (e) {\n      return {\n        condition: \"video\" === e.type,\n        priority: 2\n      };\n    }, t.default = {\n      renderer: t.renderer,\n      tester: t.tester\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n        void 0 === n && (n = r), Object.defineProperty(e, n, {\n          enumerable: !0,\n          get: function () {\n            return t[r];\n          }\n        });\n      } : function (e, t, r, n) {\n        void 0 === n && (n = r), e[n] = t[r];\n      }),\n      o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n        Object.defineProperty(e, \"default\", {\n          enumerable: !0,\n          value: t\n        });\n      } : function (e, t) {\n        e.default = t;\n      }),\n      i = this && this.__importStar || function (e) {\n        if (e && e.__esModule) return e;\n        var t = {};\n        if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && n(t, e, r);\n        return o(t, e), t;\n      };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.tester = t.renderer = void 0;\n    var a = i(r(0));\n    t.renderer = function (e) {\n      var t = e.story,\n        r = e.action;\n      return a.useEffect(function () {\n        r(\"play\");\n      }, [t]), a.createElement(\"div\", {\n        style: u.storyContent\n      }, a.createElement(\"p\", {\n        style: u.text\n      }, \"This story could not be loaded.\"));\n    };\n    var u = {\n      storyContent: {\n        width: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n      },\n      text: {\n        textAlign: \"center\",\n        color: \"white\",\n        width: \"90%\",\n        margin: \"auto\"\n      }\n    };\n    t.tester = function () {\n      return {\n        condition: !0,\n        priority: 1\n      };\n    }, t.default = {\n      renderer: t.renderer,\n      tester: t.tester\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n        void 0 === n && (n = r), Object.defineProperty(e, n, {\n          enumerable: !0,\n          get: function () {\n            return t[r];\n          }\n        });\n      } : function (e, t, r, n) {\n        void 0 === n && (n = r), e[n] = t[r];\n      }),\n      o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n        Object.defineProperty(e, \"default\", {\n          enumerable: !0,\n          value: t\n        });\n      } : function (e, t) {\n        e.default = t;\n      }),\n      i = this && this.__importStar || function (e) {\n        if (e && e.__esModule) return e;\n        var t = {};\n        if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && n(t, e, r);\n        return o(t, e), t;\n      };\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.tester = t.renderer = void 0;\n    var a = i(r(0));\n    t.renderer = function (e) {\n      a.useEffect(function () {\n        e.action(\"play\");\n      }, [e.story]);\n      var t = e.story.originalContent;\n      return a.createElement(t, Object.assign({}, e));\n    }, t.tester = function (e) {\n      return {\n        condition: !!e.content,\n        priority: 2\n      };\n    }, t.default = {\n      renderer: t.renderer,\n      tester: t.tester\n    };\n  }]);\n});","map":{"version":3,"mappings":"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","names":["root","factory","exports","module","require","define","amd","Stories","React","this","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","defaultInterval","width","height","GlobalContext","createContext","stories","StoriesContext","currentId","videoDuration","bufferAction","pause","next","a","e","story","globalHeader","children","header","style","position","left","top","zIndex","heading","subheading","profileImage","f","action","customCollapsed","showMore","setShowMore","CollapsedComponent","seeMore","margin","bottom","toggleMore","show","showContent","seeMoreContent","seeMoreCollapsed","y","h","v","ReactInstaStories","props","renderers","concat","context","loader","storyContainerStyles","storyStyles","loop","isPaused","currentIndex","onStoryStart","onStoryEnd","onAllStoriesEnd","keyboardNavigation","preventDefault","generateStories","setStories","Provider","map","url","type","assign","renderer","originalContent","content","defaultProps","setCurrentId","setPause","u","setBufferAction","setVideoDuration","mousedownId","isMounted","j","C","length","setCurrentIdWrapper","console","error","window","document","addEventListener","handleKeyDown","removeEventListener","current","previous","toggleState","callback","prev","updateNextStoryIdForLoop","updateNextStoryId","debouncePause","setTimeout","mouseUp","clearTimeout","styles","container","playState","getVideoDuration","duration","overlay","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","display","flexDirection","background","overflow","alignItems","storyContent","maxWidth","maxHeight","InnerContent","config","globalContext","rendererMessageHandler","data","ack","messageHandler","count","setCount","animationFrameId","requestAnimationFrame","incrementCount","cancelAnimationFrame","countCopy","storyStartCallback","interval","getCurrentInterval","storyEndCallback","allStoriesEndCallback","progressArr","_","active","justifyContent","flexWrap","padding","paddingTop","alignSelf","filter","transform","getProgressStyle","inner","borderRadius","transformOrigin","WebkitBackfaceVisibility","MozBackfaceVisibility","msBackfaceVisibility","backfaceVisibility","WebkitPerspective","MozPerspective","msPerspective","perspective","getProgressWrapperStyle","opacity","progress","transition","probable","testerResult","tester","condition","sort","b","priority","useState","loaded","setLoaded","computedStyles","src","onLoad","color","xmlns","stroke","fill","fillRule","strokeWidth","cx","cy","attributeName","begin","dur","values","calcMode","keyTimes","keySplines","repeatCount","main","img","marginRight","border","text","fontSize","marginBottom","SeeMoreContent","CustomCollapsed","seeMoreExpanded","close","onClick","stopPropagation","seeMoreIcon","seeMoreText","boxSizing","textAlign","letterSpacing","textTransform","seeMoreClose","right","muted","setMuted","vid","useRef","useEffect","play","catch","videoContainer","ref","controls","onLoadedData","then","finally","playsInline","onWaiting","onPlaying","autoPlay","Content"],"sources":["webpack://Stories/webpack/universalModuleDefinition","webpack://Stories/webpack/bootstrap","webpack://Stories/external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}","webpack://Stories/src/context/Global.ts","webpack://Stories/src/context/Stories.ts","webpack://Stories/src/context/Progress.ts","webpack://Stories/src/renderers/wrappers/withHeader.tsx","webpack://Stories/src/renderers/wrappers/withSeeMore.tsx","webpack://Stories/src/components/Spinner.tsx","webpack://Stories/src/index.tsx","webpack://Stories/src/components/Container.tsx","webpack://Stories/src/components/Story.tsx","webpack://Stories/src/components/ProgressArray.tsx","webpack://Stories/src/components/Progress.tsx","webpack://Stories/src/components/ProgressWrapper.tsx","webpack://Stories/src/util/renderers.tsx","webpack://Stories/src/renderers/index.ts","webpack://Stories/src/renderers/Image.tsx","webpack://Stories/src/assets/puff.svg","webpack://Stories/src/components/Header.tsx","webpack://Stories/src/components/SeeMore.tsx","webpack://Stories/src/renderers/Video.tsx","webpack://Stories/src/renderers/Default.tsx","webpack://Stories/src/renderers/AutoPlayContent.tsx"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Stories\", [\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Stories\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"Stories\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import React from 'react';\nimport { GlobalCtx } from '../interfaces';\n\nexport const initialContext = {\n\tdefaultInterval: 4000,\n\twidth: 360,\n\theight: 640,\n};\n\nconst GlobalContext = React.createContext<GlobalCtx>(initialContext);\n\nexport default GlobalContext;\n","import React from 'react';\nimport {\n\tStoriesContext as StoriesContextInterface,\n\tStory,\n} from '../interfaces';\n\nexport const initialContext: { stories: Story[] } = {\n\tstories: [],\n};\n\nconst StoriesContext = React.createContext<StoriesContextInterface>(\n\tinitialContext\n);\n\nexport default StoriesContext;\n","import React from 'react'\nimport { ProgressContext } from './../interfaces'\n\nexport default React.createContext<ProgressContext>({\n    currentId: 0,\n    videoDuration: 0,\n    bufferAction: false,\n    pause: false,\n    next: () => { }\n})","import React from 'react';\nimport { Story } from '../../interfaces';\nimport Header from \"./../../components/Header\";\n\nconst withHeader: React.FC<{ story: Story, globalHeader: Function }> = ({ story, globalHeader, children }) => {\n    return <>\n        {children}\n        {story.header && (\n            <div style={{ position: \"absolute\", left: 12, top: 20, zIndex: 19 }}>\n                {typeof story === \"object\" ? (\n                    globalHeader ? (\n                        globalHeader(story.header)\n                    ) : (\n                            <Header\n                                heading={story.header.heading}\n                                subheading={story.header.subheading}\n                                profileImage={story.header.profileImage}\n                            />\n                        )\n                ) : null}\n            </div>\n        )}\n    </>\n}\n\nexport default withHeader;","import React, { ComponentType, useState } from 'react';\nimport { Action, SeeMoreProps, Story } from '../../interfaces';\nimport SeeMore from \"./../../components/SeeMore\";\n\nconst withSeeMore: React.FC<{\n    story: Story,\n    action: Action,\n    customCollapsed?: SeeMoreProps[\"customCollapsed\"]\n}> = ({ story, action, customCollapsed, children }) => {\n    const [showMore, setShowMore] = useState(false);\n    const toggleMore = (show) => {\n        action(show ? 'pause' : 'play');\n        setShowMore(show);\n    }\n    const CollapsedComponent = SeeMore;\n    return <>\n        {children}\n        {story.seeMore && (\n            <div\n                style={{\n                    position: \"absolute\",\n                    margin: \"auto\",\n                    bottom: showMore ? 'unset' : 0,\n                    zIndex: 9999,\n                    width: \"100%\",\n                    height: showMore ? '100%' : 'auto'\n                }}\n            >\n                <CollapsedComponent\n                    action={action}\n                    toggleMore={toggleMore}\n                    showContent={showMore}\n                    seeMoreContent={story.seeMore}\n                    customCollapsed={customCollapsed || story.seeMoreCollapsed}\n                />\n            </div>\n        )}\n    </>\n}\n\nexport default withSeeMore;","import React from 'react';\nimport SpinnerSVG from './../assets/puff.svg';\n\nconst Spinner = () => {\n    return <SpinnerSVG />\n}\n\nexport default Spinner;","import React, { useEffect, useState } from 'react'\nimport { ReactInstaStoriesProps, GlobalCtx, Story, Tester, Renderer } from './interfaces'\nimport Container from './components/Container'\nimport GlobalContext from './context/Global'\nimport StoriesContext from './context/Stories';\nimport { getRenderer } from './util/renderers'\nimport { renderers as defaultRenderers } from './renderers/index';\nimport withHeader from './renderers/wrappers/withHeader'\nimport withSeeMore from './renderers/wrappers/withSeeMore'\n\nconst ReactInstaStories = function (props: ReactInstaStoriesProps) {\n    let renderers = props.renderers ? props.renderers.concat(defaultRenderers) : defaultRenderers;\n    let context: GlobalCtx = {\n        width: props.width,\n        height: props.height,\n        loader: props.loader,\n        header: props.header,\n        storyContainerStyles: props.storyContainerStyles,\n        storyStyles: props.storyStyles,\n        loop: props.loop,\n        defaultInterval: props.defaultInterval,\n        isPaused: props.isPaused,\n        currentIndex: props.currentIndex,\n        onStoryStart: props.onStoryStart,\n        onStoryEnd: props.onStoryEnd,\n        onAllStoriesEnd: props.onAllStoriesEnd,\n        keyboardNavigation: props.keyboardNavigation,\n        preventDefault: props.preventDefault\n    }\n    const [stories, setStories] = useState<{ stories: Story[] }>({ stories: generateStories(props.stories, renderers) });\n    useEffect(() => {\n        setStories({ stories: generateStories(props.stories, renderers) });\n    }, [props.stories, props.renderers]);\n\n    return <GlobalContext.Provider value={context}>\n        <StoriesContext.Provider value={stories}>\n            <Container />\n        </StoriesContext.Provider>\n    </GlobalContext.Provider>\n}\n\nconst generateStories = (stories: Story[], renderers: { renderer: Renderer, tester: Tester }[]) => {\n    return stories.map(s => {\n        let story: Story = {};\n\n        if (typeof s === 'string') {\n            story.url = s;\n            story.type = 'image';\n        } else if (typeof s === 'object') {\n            story = Object.assign(story, s);\n        }\n\n        let renderer = getRenderer(story, renderers);\n        story.originalContent = story.content;\n        story.content = renderer;\n        return story\n    })\n};\n\nReactInstaStories.defaultProps = {\n    width: 360,\n    height: 640,\n    defaultInterval: 4000\n}\n\nexport const WithHeader = withHeader;\nexport const WithSeeMore = withSeeMore;\n\nexport default ReactInstaStories","import React, { useContext, useState, useRef, useEffect } from 'react'\nimport GlobalContext from './../context/Global'\nimport StoriesContext from './../context/Stories'\nimport ProgressContext from './../context/Progress'\nimport Story from './Story'\nimport ProgressArray from './ProgressArray'\nimport { GlobalCtx, StoriesContext as StoriesContextInterface } from './../interfaces'\n\nexport default function () {\n    const [currentId, setCurrentId] = useState<number>(0)\n    const [pause, setPause] = useState<boolean>(true)\n    const [bufferAction, setBufferAction] = useState<boolean>(true)\n    const [videoDuration, setVideoDuration] = useState<number>(0)\n\n    let mousedownId = useRef<any>();\n    let isMounted = useRef<boolean>(true);\n\n    const { width, height, loop, currentIndex, isPaused, keyboardNavigation, preventDefault, storyContainerStyles = {} } = useContext<GlobalCtx>(GlobalContext);\n    const { stories } = useContext<StoriesContextInterface>(StoriesContext);\n\n    useEffect(() => {\n        if (typeof currentIndex === 'number') {\n            if (currentIndex >= 0 && currentIndex < stories.length) {\n                setCurrentIdWrapper(() => currentIndex)\n            } else {\n                console.error('Index out of bounds. Current index was set to value more than the length of stories array.', currentIndex)\n            }\n        }\n    }, [currentIndex])\n\n    useEffect(() => {\n        if (typeof isPaused === 'boolean') {\n            setPause(isPaused)\n        }\n    }, [isPaused])\n\n    useEffect(() => {\n        const isClient = (typeof window !== 'undefined' && window.document);\n        if (isClient && (typeof keyboardNavigation === 'boolean' && keyboardNavigation)) {\n            document.addEventListener(\"keydown\", handleKeyDown);\n            return () => {\n                document.removeEventListener(\"keydown\", handleKeyDown);\n            }\n        }\n    }, [keyboardNavigation]);\n\n    // Cleanup mounted state - for issue #130 (https://github.com/mohitk05/react-insta-stories/issues/130)\n    useEffect(() => {\n        return () => {\n            isMounted.current = false;\n        }\n    }, []);\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'ArrowLeft') {\n            previous()\n        }\n        else if (e.key === 'ArrowRight') {\n            next()\n        }\n    }\n\n    const toggleState = (action: string, bufferAction?: boolean) => {\n        setPause(action === 'pause')\n        setBufferAction(!!bufferAction)\n    }\n\n    const setCurrentIdWrapper = (callback) => {\n        setCurrentId(callback);\n        toggleState('pause', true);\n    }\n\n    const previous = () => {\n        setCurrentIdWrapper(prev => prev > 0 ? prev - 1 : prev)\n    }\n\n    const next = () => {\n        if (isMounted.current) {\n            if (loop) {\n                updateNextStoryIdForLoop()\n            } else {\n                updateNextStoryId()\n            }\n        }\n    };\n\n    const updateNextStoryIdForLoop = () => {\n        setCurrentIdWrapper(prev => (prev + 1) % stories.length)\n    }\n\n    const updateNextStoryId = () => {\n        setCurrentIdWrapper(prev => {\n            if (prev < stories.length - 1) return prev + 1\n            return prev\n        })\n    }\n\n    const debouncePause = (e: React.MouseEvent | React.TouchEvent) => {\n        e.preventDefault()\n        mousedownId.current = setTimeout(() => {\n            toggleState('pause')\n        }, 200)\n    }\n\n    const mouseUp = (type: string) => (e: React.MouseEvent | React.TouchEvent) => {\n        e.preventDefault()\n        mousedownId.current && clearTimeout(mousedownId.current)\n        if (pause) {\n            toggleState('play')\n        } else {\n            type === 'next' ? next() : previous()\n        }\n    }\n\n    const getVideoDuration = (duration: number) => {\n        setVideoDuration(duration * 1000)\n    }\n\n    return (\n        <div style={{ ...styles.container, ...storyContainerStyles, ...{ width, height } }}>\n            <ProgressContext.Provider value={{\n                bufferAction: bufferAction,\n                videoDuration: videoDuration,\n                currentId,\n                pause,\n                next\n            }}>\n                <ProgressArray />\n            </ProgressContext.Provider>\n            <Story\n                action={toggleState}\n                bufferAction={bufferAction}\n                playState={pause}\n                story={stories[currentId]}\n                getVideoDuration={getVideoDuration}\n            />\n            {!preventDefault && <div style={styles.overlay}>\n              <div style={{ width: '50%', zIndex: 999 }} onTouchStart={debouncePause} onTouchEnd={mouseUp('previous')} onMouseDown={debouncePause} onMouseUp={mouseUp('previous')} />\n              <div style={{ width: '50%', zIndex: 999 }} onTouchStart={debouncePause} onTouchEnd={mouseUp('next')} onMouseDown={debouncePause} onMouseUp={mouseUp('next')} />\n            </div>}\n        </div>\n    )\n}\n\nconst styles = {\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        background: '#111',\n        position: 'relative'\n    },\n    overlay: {\n        position: 'absolute',\n        height: 'inherit',\n        width: 'inherit',\n        display: 'flex'\n    }\n}\n","import React, { useContext } from \"react\";\nimport { StoryProps, GlobalCtx } from \"./../interfaces\";\nimport GlobalContext from \"./../context/Global\";\n\nconst Story = (props: StoryProps) => {\n\tconst globalContext = useContext<GlobalCtx>(\n\t\tGlobalContext\n\t);\n\n\tconst { width, height, loader, header, storyStyles } = globalContext;\n\n\tconst rendererMessageHandler = (type: string, data: any) => {\n\t\tswitch (type) {\n\t\t\tcase 'UPDATE_VIDEO_DURATION':\n\t\t\t\tprops.getVideoDuration(data.duration);\n\t\t\t\treturn { ack: 'OK' as 'OK' }\n\t\t}\n\t}\n\n\tconst getStoryContent = () => {\n\t\tlet InnerContent = props.story.content;\n\t\tlet config = { width, height, loader, header, storyStyles };\n\t\treturn <InnerContent\n\t\t\taction={props.action}\n\t\t\tisPaused={props.playState}\n\t\t\tstory={props.story}\n\t\t\tconfig={config}\n\t\t\tmessageHandler={rendererMessageHandler}\n\t\t/>\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{ ...styles.story, width: width, height: height }}\n\t\t>\n\t\t\t{getStoryContent()}\n\t\t</div>\n\t);\n};\n\nconst styles = {\n\tstory: {\n\t\tdisplay: \"flex\",\n\t\tposition: \"relative\",\n\t\toverflow: \"hidden\",\n\t\talignItems: \"center\"\n\t},\n\tstoryContent: {\n\t\twidth: \"auto\",\n\t\tmaxWidth: \"100%\",\n\t\tmaxHeight: \"100%\",\n\t\tmargin: \"auto\"\n\t}\n};\n\nexport default Story;\n","import React, { useContext, useState, useEffect, useRef } from 'react'\nimport Progress from './Progress'\nimport { ProgressContext, GlobalCtx, StoriesContext as StoriesContextInterface } from './../interfaces'\nimport ProgressCtx from './../context/Progress'\nimport GlobalContext from './../context/Global'\nimport StoriesContext from './../context/Stories'\n\nexport default () => {\n    const [count, setCount] = useState<number>(0)\n    const { currentId, next, videoDuration, pause } = useContext<ProgressContext>(ProgressCtx)\n    const { defaultInterval, onStoryEnd, onStoryStart, onAllStoriesEnd } = useContext<GlobalCtx>(GlobalContext);\n    const { stories } = useContext<StoriesContextInterface>(StoriesContext);\n\n    useEffect(() => {\n        setCount(0)\n    }, [currentId, stories])\n\n    useEffect(() => {\n        if (!pause) {\n            animationFrameId.current = requestAnimationFrame(incrementCount)\n        }\n        return () => {\n            cancelAnimationFrame(animationFrameId.current)\n        }\n    }, [currentId, pause])\n\n    let animationFrameId = useRef<number>()\n\n    let countCopy = count;\n    const incrementCount = () => {\n        if (countCopy === 0) storyStartCallback()\n        setCount((count: number) => {\n            const interval = getCurrentInterval()\n            countCopy = count + (100 / ((interval / 1000) * 60))\n            return count + (100 / ((interval / 1000) * 60))\n        })\n        if (countCopy < 100) {\n            animationFrameId.current = requestAnimationFrame(incrementCount)\n        } else {\n            storyEndCallback();\n            if (currentId === stories.length - 1) {\n                allStoriesEndCallback();\n            }\n            cancelAnimationFrame(animationFrameId.current);\n            next();\n        }\n    }\n\n    const storyStartCallback = () => {\n        onStoryStart && onStoryStart(currentId, stories[currentId])\n    }\n\n    const storyEndCallback = () => {\n        onStoryEnd && onStoryEnd(currentId, stories[currentId])\n    }\n\n    const allStoriesEndCallback = () => {\n        onAllStoriesEnd && onAllStoriesEnd(currentId, stories)\n    }\n\n    const getCurrentInterval = () => {\n        if (stories[currentId].type === 'video') return videoDuration\n        if (typeof stories[currentId].duration === 'number') return stories[currentId].duration\n        return defaultInterval\n    }\n\n    return (\n        <div style={styles.progressArr}>\n            {stories.map((_, i) =>\n                <Progress\n                    key={i}\n                    count={count}\n                    width={1 / stories.length}\n                    active={i === currentId ? 1 : (i < currentId ? 2 : 0)}\n                />)}\n        </div>\n    )\n}\n\nconst styles = {\n    progressArr: {\n        display: 'flex',\n        justifyContent: 'center',\n        maxWidth: '100%',\n        flexWrap: 'row',\n        position: 'absolute',\n        width: '98%',\n        padding: 5,\n        paddingTop: 7,\n        alignSelf: 'center',\n        zIndex: 1001,\n        filter: 'drop-shadow(0 1px 8px #222)'\n    }\n}\n","import React, { useContext } from 'react'\nimport { ProgressProps, ProgressContext } from './../interfaces'\nimport ProgressWrapper from './ProgressWrapper'\nimport ProgressCtx from './../context/Progress'\n\nexport default (props: ProgressProps) => {\n    const { bufferAction, pause } = useContext<ProgressContext>(ProgressCtx)\n\n    const getProgressStyle = ({ active }) => {\n        switch (active) {\n            case 2:\n                return { width: '100%' }\n            case 1:\n                return { transform: `scaleX(${props.count / 100})` }\n            case 0:\n                return { width: 0 }\n            default:\n                return { width: 0 }\n        }\n    }\n\n    const { width, active } = props\n    return (\n        <ProgressWrapper width={width} pause={pause} bufferAction={bufferAction}>\n            <div\n                style={{ ...getProgressStyle({ active }), ...styles.inner }} />\n        </ProgressWrapper>\n    )\n}\n\nconst styles: any = {\n    inner: {\n        background: '#fff',\n        height: '100%',\n        maxWidth: '100%',\n        borderRadius: 2,\n        transformOrigin: 'center left',\n\n        WebkitBackfaceVisibility: 'hidden',\n        MozBackfaceVisibility: 'hidden',\n        msBackfaceVisibility: 'hidden',\n        backfaceVisibility: 'hidden',\n\n        WebkitPerspective: 1000,\n        MozPerspective: 1000,\n        msPerspective: 1000,\n        perspective: 1000\n    }\n}","import React from 'react'\nimport { ProgressWrapperProps } from './../interfaces'\n\nconst ProgressWrapper = (props: ProgressWrapperProps) => (\n    <div style={{ ...styles.progress, ...getProgressWrapperStyle(props) }}>\n        {props.children}\n    </div>\n)\n\nconst getProgressWrapperStyle = ({ width, pause, bufferAction }) => ({\n    width: `${width * 100}%`,\n    opacity: pause && !bufferAction ? 0 : 1\n})\n\nconst styles = {\n    progress: {\n        height: 2,\n        maxWidth: '100%',\n        background: '#555',\n        margin: 2,\n        borderRadius: 2,\n        transition: 'opacity 400ms ease-in-out'\n    }\n}\n\nexport default ProgressWrapper","import { Renderer, Story, Tester } from \"../interfaces\";\n\nexport const getRenderer = (story: Story, renderers: { renderer: Renderer, tester: Tester }[]): Renderer => {\n    let probable = renderers.map(r => {\n        return {\n            ...r,\n            testerResult: r.tester(story)\n        }\n    }).filter(r => r.testerResult.condition);\n    probable.sort((a, b) => b.testerResult.priority - a.testerResult.priority);\n    return probable[0].renderer;\n}","import image from './Image';\nimport video from './Video';\nimport defaultRenderer from './Default';\nimport autoplayContent from './AutoPlayContent';\n\nexport const renderers = [image, video, autoplayContent, defaultRenderer];\n","import * as React from 'react';\nimport Spinner from '../components/Spinner';\nimport { Renderer, Tester } from './../interfaces';\nimport WithHeader from './wrappers/withHeader';\nimport WithSeeMore from './wrappers/withSeeMore';\n\nexport const renderer: Renderer = ({ story, action, isPaused, config }) => {\n    const [loaded, setLoaded] = React.useState(false);\n    const { width, height, loader, storyStyles } = config;\n    let computedStyles = {\n        ...styles.storyContent,\n        ...(storyStyles || {})\n    }\n\n    const imageLoaded = () => {\n        setLoaded(true);\n        action('play');\n    }\n\n    return <WithHeader story={story} globalHeader={config.header}>\n        <WithSeeMore story={story} action={action}>\n            <div>\n                <img style={computedStyles} src={story.url} onLoad={imageLoaded} />\n                {!loaded && (\n                    <div\n                        style={{\n                            width: width,\n                            height: height,\n                            position: \"absolute\",\n                            left: 0,\n                            top: 0,\n                            background: \"rgba(0, 0, 0, 0.9)\",\n                            zIndex: 9,\n                            display: \"flex\",\n                            justifyContent: \"center\",\n                            alignItems: \"center\",\n                            color: \"#ccc\"\n                        }}\n                    >\n                        {loader || <Spinner />}\n                    </div>\n                )}\n            </div>\n        </WithSeeMore>\n    </WithHeader>\n}\n\nconst styles = {\n    story: {\n        display: \"flex\",\n        position: \"relative\",\n        overflow: \"hidden\"\n    },\n    storyContent: {\n        width: \"auto\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n    }\n};\n\nexport const tester: Tester = (story) => {\n    return {\n        condition: !story.content && (!story.type || story.type === 'image'),\n        priority: 2\n    }\n}\n\nexport default {\n    renderer,\n    tester\n}","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"44\" height=\"44\" xmlns=\"http://www.w3.org/2000/svg\" stroke=\"#fff\" {...props}><g fill=\"none\" fillRule=\"evenodd\" strokeWidth=\"2\"><circle cx=\"22\" cy=\"22\" r=\"1\"><animate attributeName=\"r\" begin=\"0s\" dur=\"1.8s\" values=\"1; 20\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.165, 0.84, 0.44, 1\" repeatCount=\"indefinite\" /><animate attributeName=\"stroke-opacity\" begin=\"0s\" dur=\"1.8s\" values=\"1; 0\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.3, 0.61, 0.355, 1\" repeatCount=\"indefinite\" /></circle><circle cx=\"22\" cy=\"22\" r=\"1\"><animate attributeName=\"r\" begin=\"-0.9s\" dur=\"1.8s\" values=\"1; 20\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.165, 0.84, 0.44, 1\" repeatCount=\"indefinite\" /><animate attributeName=\"stroke-opacity\" begin=\"-0.9s\" dur=\"1.8s\" values=\"1; 0\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.3, 0.61, 0.355, 1\" repeatCount=\"indefinite\" /></circle></g></svg>);","import React from 'react'\nimport { HeaderProps } from './../interfaces'\n\nconst Header = ({ profileImage, heading, subheading }: HeaderProps) =>\n    <div style={styles.main}>\n        {profileImage && <img style={styles.img} src={profileImage} />}\n        <span style={styles.text}>\n            <p style={styles.heading}>{heading}</p>\n            <p style={styles.subheading}>{subheading}</p>\n        </span>\n    </div>\n\nconst styles = {\n    main: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    img: {\n        width: 40,\n        height: 40,\n        borderRadius: 40,\n        marginRight: 10,\n        filter: 'drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))',\n        border: '2px solid rgba(255, 255, 255, 0.8)'\n    },\n    text: {\n        display: 'flex',\n        flexDirection: 'column',\n        filter: 'drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))'\n    },\n    heading: {\n        fontSize: '1rem',\n        color: 'rgba(255, 255, 255, 0.9)',\n        margin: 0,\n        marginBottom: 2\n    },\n    subheading: {\n        fontSize: '0.6rem',\n        color: 'rgba(255, 255, 255, 0.8)',\n        margin: 0\n    }\n}\n\nexport default Header","import React, { useEffect, useContext } from 'react'\nimport GlobalContext from './../context/Global'\nimport { GlobalCtx } from './../interfaces'\nimport { SeeMoreProps } from './../interfaces'\n\nexport default function seeMore(props: SeeMoreProps) {\n    const SeeMoreContent = props.seeMoreContent;\n    const CustomCollapsed = props.customCollapsed;\n\n    const { keyboardNavigation } = useContext<GlobalCtx>(GlobalContext);\n\n    useEffect(() => {\n        const isClient = (typeof window !== 'undefined' && window.document);\n        if (isClient && (typeof keyboardNavigation === 'boolean' && keyboardNavigation)) {\n            document.addEventListener(\"keydown\", handleKeyDown);\n            return () => {\n                document.removeEventListener(\"keydown\", handleKeyDown);\n            }\n        }\n    }, [keyboardNavigation])\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'ArrowUp') {\n            e.preventDefault()\n            props.toggleMore(true)\n        }\n        else if (e.key === 'ArrowDown' || e.key === 'Escape') {\n            e.preventDefault()\n            props.toggleMore(false)\n        }\n    }\n\n    return (\n        props.showContent\n            ? <div style={styles.seeMoreExpanded}>\n                <SeeMoreContent close={() => props.toggleMore(false)} />\n            </div>\n            :\n            (CustomCollapsed ? <CustomCollapsed action={props.action} toggleMore={props.toggleMore} /> : <div style={styles.seeMore} onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                props.toggleMore(true)\n            }} >\n                <span style={styles.seeMoreIcon}>⌃</span>\n                <span style={styles.seeMoreText}>See more</span>\n            </div>\n            )\n    )\n}\n\nconst styles: any = {\n    seeMore: {\n        height: \"10vh\",\n        background: \"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        bottom: 0\n    },\n    seeMoreExpanded: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        boxSizing: 'border-box',\n        zIndex: 99999\n    },\n    seeMoreText: {\n        color: \"white\",\n        textAlign: \"center\",\n        letterSpacing: \"0.1em\",\n        marginBottom: \"2.2vh\",\n        textTransform: \"capitalize\",\n        opacity: \"1\",\n        fontSize: \"0.8em\",\n        transition: \"opacity 300ms ease-in-out\"\n    },\n    seeMoreIcon: {\n        color: \"white\",\n        textAlign: \"center\",\n        letterSpacing: \"0.2em\",\n        marginBottom: \"0.4vh\",\n        opacity: \"1\",\n        filter: \"drop-shadow(0 0 5px black)\",\n        textTransform: \"capitalize\",\n        transition: \"opacity 300ms ease-in-out\"\n    },\n    seeMoreClose: {\n        position: \"absolute\",\n        filter: \"drop-shadow(0 3px 2px #ccc)\",\n        right: \"0.5rem\",\n        top: \"0.5rem\",\n        fontSize: \"1.5rem\",\n        opacity: \"0.7\",\n        padding: \"1rem\"\n    }\n}","import * as React from 'react';\nimport Spinner from '../components/Spinner';\nimport { Renderer, Tester } from './../interfaces';\nimport WithHeader from './wrappers/withHeader';\nimport WithSeeMore from './wrappers/withSeeMore';\n\nexport const renderer: Renderer = ({ story, action, isPaused, config, messageHandler }) => {\n    const [loaded, setLoaded] = React.useState(false);\n    const [muted, setMuted] = React.useState(false);\n    const { width, height, loader, storyStyles } = config;\n\n    let computedStyles = {\n        ...styles.storyContent,\n        ...(storyStyles || {})\n    }\n\n    let vid = React.useRef<HTMLVideoElement>(null);\n\n    React.useEffect(() => {\n        if (vid.current) {\n            if (isPaused) {\n                vid.current.pause();\n            } else {\n                vid.current.play().catch(() => { });\n            }\n        }\n    }, [isPaused]);\n\n    const onWaiting = () => {\n        action(\"pause\", true);\n    }\n\n    const onPlaying = () => {\n        action(\"play\", true);\n    }\n\n    const videoLoaded = () => {\n        messageHandler('UPDATE_VIDEO_DURATION', { duration: vid.current.duration });\n        setLoaded(true);\n        vid.current.play().then(() => {\n            action('play');\n        }).catch(() => {\n            setMuted(true);\n            vid.current.play().finally(() => {\n                action('play');\n            })\n        });\n    }\n\n    return <WithHeader story={story} globalHeader={config.header}>\n        <WithSeeMore story={story} action={action}>\n            <div style={styles.videoContainer}>\n                <video\n                    ref={vid}\n                    style={computedStyles}\n                    src={story.url}\n                    controls={false}\n                    onLoadedData={videoLoaded}\n                    playsInline\n                    onWaiting={onWaiting}\n                    onPlaying={onPlaying}\n                    muted={muted}\n                    autoPlay\n                    webkit-playsinline=\"true\"\n                />\n                {!loaded && (\n                    <div\n                        style={{\n                            width: width,\n                            height: height,\n                            position: \"absolute\",\n                            left: 0,\n                            top: 0,\n                            background: \"rgba(0, 0, 0, 0.9)\",\n                            zIndex: 9,\n                            display: \"flex\",\n                            justifyContent: \"center\",\n                            alignItems: \"center\",\n                            color: \"#ccc\"\n                        }}\n                    >\n                        {loader || <Spinner />}\n                    </div>\n                )}\n            </div>\n        </WithSeeMore>\n    </WithHeader>\n}\n\nconst styles = {\n    storyContent: {\n        width: \"auto\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n    },\n    videoContainer: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n    }\n};\n\nexport const tester: Tester = (story) => {\n    return {\n        condition: story.type === 'video',\n        priority: 2\n    }\n}\n\nexport default {\n    renderer,\n    tester\n}\n","import * as React from 'react';\nimport { Renderer, Tester } from './../interfaces';\n\nexport const renderer: Renderer = ({ story, action }) => {\n    React.useEffect(() => {\n        action('play');\n    }, [story])\n\n    return <div style={styles.storyContent}>\n        <p style={styles.text}>This story could not be loaded.</p>\n    </div>\n}\n\nconst styles = {\n    storyContent: {\n        width: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n    },\n    text: {\n        textAlign: 'center',\n        color: 'white',\n        width: '90%',\n        margin: 'auto'\n    }\n};\n\nexport const tester: Tester = () => {\n    return {\n        condition: true,\n        priority: 1\n    };\n}\n\nexport default {\n    renderer,\n    tester\n}","import * as React from 'react';\nimport { Renderer, Tester } from './../interfaces';\n\nexport const renderer: Renderer = (props) => {\n    React.useEffect(() => {\n        props.action('play');\n    }, [props.story])\n    const Content = props.story.originalContent;\n    return <Content {...props} />\n}\n\nexport const tester: Tester = (story) => {\n    return {\n        condition: !!story.content,\n        priority: 2\n    }\n}\n\nexport default {\n    renderer,\n    tester\n}"]},"metadata":{},"sourceType":"script","externalDependencies":[]}